---
import dayjs from 'dayjs';
import Tags from '@components/Tags.astro';
import DefaultLayout from '@layouts/Default.astro';

const { kind, post } = Astro.props;
const { frontmatter, Content } = post;
const { title, date, categories, last_updated } = frontmatter;
const post_date = (date) ? dayjs(date, 'YYYY-MM-DD') : false;
const post_last_updated =(last_updated) ? dayjs(last_updated, 'YYYY-MM-DD') : false;
---
<DefaultLayout content={{title, bodyClass: kind}}>
	<article>
		<header class="single__header section">
			<h1 class="single__heading">{title}</h1>
			{post_date && (
				<time class="single__date" datetime={post_date.toISOString()}>
					{post_date.format('dddd, MMMM D, YYYY')}
				</time>
			)}
			{post_last_updated && (
				<time class="single__date single__date--last-updated" datetime={post_last_updated.toISOString()}>
					{post_last_updated.format('dddd, MMMM D, YYYY')}
				</time>
			)}
			{categories?.length && <div class="single__tags"><Tags tags={categories} /></div>}
		</header>
		<div class="content single__content section">
			<Content />
		</div>
	</article>
</DefaultLayout>
